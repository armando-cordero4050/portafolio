import{_ as B}from"./AppTextField.vue_vue_type_script_setup_true_lang-b9010814.js";import{d as P,l as m,ag as F,k as M,r as q,o as E,b as $,w as t,q as e,n as o,s,V as j,x as y,Q as r,y as J,$ as O,H as V,G as U,a6 as G}from"./main-3f772619.js";import{u as z}from"./useAppAbility-1dd1b8a1.js";import{_ as H}from"./AuthProvider.vue_vue_type_script_setup_true_lang-870fc77b.js";import{u as v}from"./useGenerateImageVariant-87292397.js";import{a as Q,b as W,c as K,d as X}from"./auth-v2-login-illustration-light-85c188ae.js";import{m as Y,a as Z}from"./misc-mask-light-a3b57243.js";import{r as w,e as ee}from"./validators-33c369bf.js";import{a as n,V as k}from"./VRow-0c7e6edd.js";import{V as I}from"./VImg-1135bfd9.js";import{V as te,d as b}from"./VCard-59875098.js";import{V as se}from"./VAlert-64b1ca36.js";import{V as ae}from"./VForm-726cd563.js";import{V as oe}from"./VCheckbox-3ee887fa.js";import{V as C}from"./VDivider-13482bbd.js";import{b as S}from"./route-block-83d24a4e.js";import"./VInput-e8e8f4b8.js";import"./transition-6332bc63.js";import"./VTextField-0defed1e.js";/* empty css                   */import"./VField-95e14b22.js";import"./easing-9f15041e.js";import"./forwardRefs-a29b5f65.js";import"./VCounter-f4b5b2c9.js";import"./index-681711bc.js";import"./VAvatar-1d1d21c4.js";import"./VCheckboxBtn-6ff3878e.js";import"./VSelectionControl-3fa884ca.js";const re={class:"position-relative bg-background rounded-lg w-100 ma-8 me-0"},le={class:"d-flex align-center justify-center w-100 h-100"},ne={class:"text-h5 mb-1"},ie={class:"text-capitalize"},me=o("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),ue=o("p",{class:"text-caption mb-2"},[r(" Admin Email: "),o("strong",null,"admin@demo.com"),r(" / Pass: "),o("strong",null,"admin")],-1),de=o("p",{class:"text-caption mb-0"},[r(" Client Email: "),o("strong",null,"client@demo.com"),r(" / Pass: "),o("strong",null,"client")],-1),ce={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},pe=o("span",null,"New on our platform?",-1),fe=o("span",{class:"mx-4"},"or",-1),_e=P({__name:"login",setup(ge){const L=v(X,K,W,Q,!0),N=v(Z,Y),d=m(!1),h=F(),R=M(),A=z(),_=m({email:void 0,password:void 0}),x=m(),c=m("admin@demo.com"),p=m("admin"),g=m(!1),D=()=>{G.post("/auth/login",{email:c.value,password:p.value}).then(l=>{const{accessToken:a,userData:f,userAbilities:u}=l.data;localStorage.setItem("userAbilities",JSON.stringify(u)),A.update(u),localStorage.setItem("userData",JSON.stringify(f)),localStorage.setItem("accessToken",JSON.stringify(a)),R.replace(h.query.to?String(h.query.to):"/")}).catch(l=>{const{errors:a}=l.response.data;_.value=a,console.error(l.response.data)})},T=()=>{var l;(l=x.value)==null||l.validate().then(({valid:a})=>{a&&D()})};return(l,a)=>{const f=B,u=q("RouterLink");return E(),$(k,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:t(()=>[e(n,{lg:"8",class:"d-none d-lg-flex"},{default:t(()=>[o("div",re,[o("div",le,[e(I,{"max-width":"505",src:s(L),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),e(I,{src:s(N),class:"auth-footer-mask"},null,8,["src"])])]),_:1}),e(n,{cols:"12",lg:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:t(()=>[e(te,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:t(()=>[e(b,null,{default:t(()=>[e(s(j),{nodes:s(y).app.logo,class:"mb-6"},null,8,["nodes"]),o("h5",ne,[r(" Welcome to "),o("span",ie,J(s(y).app.title),1),r("! ðŸ‘‹ðŸ» ")]),me]),_:1}),e(b,null,{default:t(()=>[e(se,{color:"primary",variant:"tonal"},{default:t(()=>[ue,de]),_:1})]),_:1}),e(b,null,{default:t(()=>[e(s(ae),{ref_key:"refVForm",ref:x,onSubmit:O(T,["prevent"])},{default:t(()=>[e(k,null,{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(f,{modelValue:s(c),"onUpdate:modelValue":a[0]||(a[0]=i=>V(c)?c.value=i:null),label:"Email",type:"email",autofocus:"",rules:[s(w),s(ee)],"error-messages":s(_).email},null,8,["modelValue","rules","error-messages"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(f,{modelValue:s(p),"onUpdate:modelValue":a[1]||(a[1]=i=>V(p)?p.value=i:null),label:"Password",rules:[s(w)],type:s(d)?"text":"password","error-messages":s(_).password,"append-inner-icon":s(d)?"tabler-eye-off":"tabler-eye","onClick:appendInner":a[2]||(a[2]=i=>d.value=!s(d))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),o("div",ce,[e(oe,{modelValue:s(g),"onUpdate:modelValue":a[3]||(a[3]=i=>V(g)?g.value=i:null),label:"Remember me"},null,8,["modelValue"]),e(u,{class:"text-primary ms-2 mb-1",to:{name:"forgot-password"}},{default:t(()=>[r(" Forgot Password? ")]),_:1})]),e(U,{block:"",type:"submit"},{default:t(()=>[r(" Login ")]),_:1})]),_:1}),e(n,{cols:"12",class:"text-center"},{default:t(()=>[pe,e(u,{class:"text-primary ms-2",to:{name:"register"}},{default:t(()=>[r(" Create an account ")]),_:1})]),_:1}),e(n,{cols:"12",class:"d-flex align-center"},{default:t(()=>[e(C),fe,e(C)]),_:1}),e(n,{cols:"12",class:"text-center"},{default:t(()=>[e(H)]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})}}});typeof S=="function"&&S(_e);export{_e as default};
